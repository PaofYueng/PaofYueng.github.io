---
title: 微机系统笔记
date: 2020-08-06 16:51:35
tags:
- 课程笔记
mathjax: true
---

# 微机系统笔记

<!--more-->

## 绪论

1. 冯诺依曼模型
2. 五类计算机：巨型机、大型机、中型机、小型机、微机
3. 微机特点：集成度高、体积小、重量轻、耗电省、可 靠性高、结构灵活、价格低廉、维护方便、应用面广。 
4. 三种总线：数据总线DB、地址总线AD、控制总线CB。
5. 字长：计算机一次能处理的二进制位数，一般是字节的倍数
6. 主频：即时钟频率
7. 主存容量：b二进制单位、B字节单位
8. **存储速度**：存储时间-一次存储器操作所用时间，存储周期-两次存储操作开始的间隔时间
9. 运算速度：常用MIPS
10. CISC-RISC

## 16位微处理器Intel 8086 

基础特点：16位、CISC、数据总线16位、地址总线20位

**EU-执行单元、BIU总线接口单元**

8088在8086的基础上削减了数据总线的宽度

### BIU

组成：
	① 四个段寄存器：代码段、数据段、堆栈段、附加段
	② 16位指令指针
	③ 6字节的指令队列，可缓存八个指令
	④ 总线控制逻辑
	⑤ 20位地址加法器即：十六位的段地址左移四位+IP

功能：
	取指令、形成物理地址、传送数据

当指令队列出现两个空字节时会去按CS:IP形成20位物理地址取两个字节的指令。

### EU

组成:
	① 16bit ALU
	② 十六位标志寄存器
	③ EU控制电路
	④ 8个16位通用寄存器

功能：
	从BIU中读指令并执行，形成物理地址，送数据与按照结果修改标志寄存器内容。

CPU的14个16位寄存器：
① AX、BX、CX、DX：其中可分别调用高八位与低八位，例AH、AL。
② 堆栈指针寄存器SP，基址指针寄存器BP，源变址寄存器SI、目的变址寄存器DI。
③ 指令指针IP、状态标志
④ 代码段寄存器CS、数据段寄存器DS、堆栈段寄存器SS、附加段寄存器ES

1）AX累加器，Accumulator Register 
2）BX基址寄存器，Base Register 
3）CX计数器，Counter 
4）DX数据寄存器，Data Register

1） SP堆栈指针，Stack Pointer，栈顶指针
2） BP基址指针，Base Pointer，堆栈段内数据区的基址
3） SI源变址寄存器，Source Index，源串指针，指向数据段源串操作数
4） DI目的变址寄存器，Destination Index， 目的串指针，指示在附加段中一个目的串操作数的位置。  

CS代码段寄存器，Code Segment，存放当前执行程序的段起始地址
SS堆栈段寄存器，Stack Segment，存放当前堆栈段的段起始地址 
DS数据段寄存器，Data Segment，存放当前数据段的段起始地址 
ES附加段寄存器，Extra Segment，存放当前附加段的段起始地址 

IP存放指令的偏移量，CS:IP即是所需指令地址，受保护只可由BIU修改

**标志寄存器**：十六位只用到了九位，分三种

状态位
1）**CF进位**，Carry Flag：结果有进位或借位，CF=1，否则CF=0。 
2）PF奇偶，Parity Flag：低8位结果为偶数个1，PF=1，否则PF=0。 
3）AF辅助进位，Auxiliary Carry Flag：D3有进位或借位，AF=1，否 则AF=0。 
4）**ZF零标志**，Zero Flag：结果为0，ZF=1，否则ZF=0。 
5）**SF符号位**，Sign Flag：结果为正，SF=0，否则SF=1。 
6）**OF溢出标位**，Overflow Flag：有符号数算术运算，结果超出其所能 表示的数值范围，OF=1，否则OF=0。

控制位
1）DF方向标志，Direction Flag：数据串操作地址修改方向控制，增址DF=0，减址DF=1。 
2）IF中断允许，Interrupt Enable Flag： IF=1，允许**可屏蔽中断**（开中断），IF=0，关中断。 
3）TF陷阱标志，Trap Flag： TF=1，**单步**方式，每执行 一条指令自动产生一次类型为1的内部中断，使操作者可 以逐条指令检查，TF=0，正常。  

重要引脚
INTR：可屏蔽中断请求信号，高电平有效
NMI：非屏蔽中断请求信号，上升沿有效
RD：读选通
WR：写信号
MN/MX：最小/最大模式
BHE：高八位数据允许
M/IO：存储器/输入输出控制

总线周期：读写一次的时长
指令周期：执行一次指令的时长

### 总线周期

T1-CPU发地址
T2-撤地址发控制信号
T3-收发数据
T4-完成读写

最小模式

读周期

| 引脚     | T1           | T2       | T3       | TW       | T4       |
| -------- | ------------ | -------- | -------- | -------- | -------- |
| M/IO     | 依情况而定   |          |          |          |          |
| A19~A16  | 地址输出     | 状态输出 |          |          |          |
| BHE      | 允许即低电平 | 不允许   |          |          |          |
| AD15-AD0 | 地址输出     | 地址输出 | 数据输入 | 数据输入 | 数据数入 |
| RD       | 不允许       | 允许     | 允许     | 允许     | 允许     |
| ALE      | 允许         | 不允许   | 不允许   | 不允许   | 不允许   |
| DEN      | 不允许       | 允许     | 允许     | 允许     | 允许     |

写周期

| 引脚     | T1           | T2       | T3       | TW       | T4       |
| -------- | ------------ | -------- | -------- | -------- | -------- |
| M/IO     | 依情况而定   |          |          |          |          |
| A19~A16  | 地址输出     | 状态输出 |          |          |          |
| BHE      | 允许即低电平 | 不允许   |          |          |          |
| AD15-AD0 | 地址输出     | 地址输出 | 数据输出 | 数据输出 | 数据输出 |
| WR       | 不允许       | 允许     | 允许     | 允许     | 允许     |
| ALE      | 允许         | 不允许   | 不允许   | 不允许   | 不允许   |
| DEN      | 不允许       | 允许     | 允许     | 允许     | 允许     |



### 存储结构

20位地址线，可直接寻址1M字节，支持字（16bit）数据存取
对齐字：在偶数地址中开始存放。读写时，只需一个总线周期。 
非对齐字：在奇数地址中开始存放。读写时，需两个总线周期。

由于存储器均是16位的，无法满足地址线提供的功能，8086采取段式存储，段内地址连续且独立。

物理地址=段寄存器×16  +  段内偏移量 

### 中断

8086 的中断分类：
	外部中断：外部中断源引起的中断，INTR，NMI。
	内部中断：由内部软件中断指令产生，或者在某些特定条件下，由CPU 本身触发产生。 
	• 内部中断有两类:
		软件中断：中断指令INT  n，溢出中断指令INTO，断点中断指令INT3/
		软件陷阱：除法错误中断，单步中断。 
• 中断向量：中断服务程序的起始地址。一个中断向量占4个存储单元。
	中断向量地址=中断类型码×4 
• 软件中断特点：
	1）不受IF控制 
	2）不读取中断向量 
	3）优先权高 • 中断优先级：（高）除法错误→软件中断→NMI→INTR→单步（低） 

## Pentium

### 基本结构寄存器

通用寄存器与控制寄存器除了扩展到32位其余无区别
段寄存器追加了两个附加段寄存器

标志寄存器：
VM：虚拟8086方式，保护方式下， VM=1，CPU工作在虚拟8086模式。 
AC：对齐检查，AC=1，当访问地址 出现对齐错误时，产生异常中断17。 
VIF：虚拟中断标志，在虚拟方式下， VIF是IF的虚拟映像。 
VIP：虚拟中断挂起，指示虚拟中断 是否挂起，为虚拟方式提供中断信息 
ID：标识标志，ID=1，表示该CPU支 持CPUID指令，该指令提供厂商、产 品系列等信息。 
RF：恢复标志，RF=1，即使遇到断点或 调试故障，也不产生异常中断1（单步）， 成功执行指令时，RF自动清0。 
NT：嵌套任务，保护方式下，NT=1，当 前执行的任务嵌套在另一个任务中， NT=0，无嵌套。
IOPL：I/O特权级，保护方式下，为I/O 寻址操作设置最小保护级，0-3，0为最高 优先级，CPL≥IOPL（CPL数值上小于等 于IOPL）时，I/O指令才能执行，否则产 生异常。只有特权级为0级的程序才能修 改IOPL。
其余与8086相同

4个系统地址寄存器：全局描述符表寄存器GDTR、中断描 述符表寄存器IDTR、局部描述符表寄存器LDTR、任务状态寄存器TR。

GDT： global descriptor table，全局描述符表，操作系统使用的段描述符 和各项任务共用的段描述符放在一起组成的表。整个系统一个。 
LDT： local descriptor table，局部描述符表，某项任务专用的所有的各种 段描述符放在一起构成的表。每个任务各有一个。 •
IDT：中断描述符表，一种特殊的表，它把每个中断向量与描述符联系在 一起，描述符包含中断服务程序入口地址和特性，整个系统一个。
GDTR：保存GDT开始地址和段长，48位
LDTR：保存LDT开始地址和段长、属性，16+64位。
IDTR：保存IDT开始地址和段长，48位。 

### 引脚

A31～A3：地址总线
BE7～BE0：字节允许，对应每个字节，由地址A2-A0产生
D63～D0：数据总线。数据读写时，按字节偶校验。 
D/C：数据/控制。 
M/IO：存储器/IO。 
W/R：写/读。
NA：下一地址有效，用于支持地址流水线操作。采样到NA 有效的两个时钟周期后，CPU可送出新地址。 
Cache： Cache控制，指示目前处于Cache周期
KEN： Cache允许，有效时，指示进入突发读周期，将外部数据复制到内部Cache
INTR：可屏蔽中断请求。 
NMI：非屏蔽中断请求。 
HOLD：总线保持请求，请求Pentium停止总线驱动。完成当 前总线周期后让出总线，用HLDA响应。
HLDA：总线保持响应，指示Pentium让出总线控制。

### 三种模式

实地址模式

兼容8086，1MB存储空间
物理地址=段地址×16+偏移地址
保留2个物理存储空间：
0000:0000H～0000:03FFH：中断向量区，每个中断向量占用4个字节
FFFF:0000H～FFFF:000FH：系统初始化区

保护模式

4GB物理空间，64TB逻辑空间
地址转换即操作系统课程内容
特征为特权级，0为最高级，3为最低级，高特权级可以访问低特权级的数据（大于等于）低特权级可以调用高特权级的程序（小于等于） 

虚拟8086模式
本质上即软件运行在8086中
虚拟8086方式是一个程序的运行方式。实地址方式是处理器的工作方式

## 指令系统

### 前缀

指令前缀：说明指令的相关特性。如LOCK、REP、REPE/REPZ、 REPNE/REPNZ 
段超越前缀：用超越段取代默认段。三种情况禁止段超越：串操作 （ES）、堆栈指令（SS）、代码段（CS）。 
操作数大小前缀：改变默认的数据长度。16→32， 32→16。
地址大小前缀：改变默认的地址长度
在实地址、虚拟8086方式下，隐含寻址16位。 
在保护方式下，隐含寻址由段描述符中的D位确定，D=0默认是16位， D=1默认是32位，操作数大小前缀和地址大小前缀用于改变隐含特性。 

有效地址的计算公式：EA＝基址  +（变址×比例因子）+  位移量

基址寄存器 16bit BX、BP 32bit 任何32位通用寄存器 
变址寄存器 16bit SI、DI 32bit 除ESP以外的任何32位通用寄存器 

### 指令

PUSHF/POPF 16位标志寄存器进栈/出栈 
LEA  有效地址送寄存器
IN/OUT  输入/输出
ADC 带进位加法
SBB 带借位减法
INC  加1
DEC  减1
DAA  压缩BCD码加法调整，只对AL处理
DAS  压缩BCD码减法调整
AAA  非压缩BCD码加法调整
AAS 非压缩BCD码减法调整
ROL  循环左移
ROR  循环右移
RCL  带进位循环左移
RCR  带进位循环右移
CLC   进位位置0，  CF←0 
STC   进位位置1，  CF←1 

## 汇编程序

汇编-连接-可执行文件

段定义
定义类型 BYTE WORD DWORD PARA PAGE
组合类型 PUBLIC STACK COMMON MEMORY PRIVATE
字长类型 USE16 USE32
类别 DATA CODE STACK EXTRA

ASSUME 段分配

$ 地址计数器
ORG 设置地址计数器的值

数据定义
DB	定义字节变量
DW	定义字变量
DD	定义双字变量
例：DATA1 DW 'AB'
DUP 重复定义
例：DATA1 2 DUP(12H,34H,56H)
SEG 返回段地址
OFFSET 返回偏移量

PROC----ENDP 定义子程序

EQU定义常量（只能定义一次）
=	定义常量（可重复定理）
?	只分配空间不赋值

PTR 临时改变类型属性

## 奔腾保护模式存储管理

虚拟地址空间：又称为虚存地址空间，是应用程序员用来编 写程序的地址空间，与此相对应的地址称为虚地址或逻辑地 址。 
主存地址空间：又称为实存地址空间，是存储、运行程序的 空间，其相应的地址称为主存物理地址或实地址。 
辅存地址空间：也就是磁盘存储器的地址空间，是用来存放 程序的空间，相应的地址称为辅存地址或磁盘地址。 


$$
段描述符\left \{ \begin{array} .段描述符\left \{ \begin{array} .代码段描述符\\堆栈段描述符\\数据段描述符\end{array}\right.\\系统段描述符\left \{ \begin{array} .程序状态段描述符\\局部描述符表描述符\\门描述符\left \{ \begin{array} .调用门描述符\\中断门描述符\\任务门描述符\\陷阱门描述符\end{array}\right.\end{array}\right.\end{array}\right.
$$

段描述符的组成
20位段界限
36位段基址
1位G粒度，G=0时，段的长度以一个字节为单位，G=1时，段的长度以4K字节为单位。
1位S分类，S=0时，是系统段描述符。S=1时，是非系统段描述符。 
1位段存在位P，P=1时，表示该段在内存中。P=0时，表示该段不在内存中
1位系统可用位AVL，AVL=1时，表示系统软件可用本段。 当AVL=0时，表示系统软件不能用本段。 
2位特权级DPL：定义段的特权级。00最高，11最低
1位D位/B位：32/16大小选择。 D/B=1，选32位； D/B=0，选16位。 
	在代码段描述符中，指示操作数长度和有效地址长度，D位。 
	在堆栈段描述符中，指示ESP或SP， B位。 
	在数据段描述符中，指示操作数长度。 B位 
4位type
	当数据段和堆栈段
	E可执行位：当E=0时，是数据段或堆栈段。 
	ED扩展方向位：当ED=0时，向上扩展（增加方向），通常用 于数据段。当ED=1时，向下扩展（地址减小方向），通常用于堆栈段
	W可写位：当W=0时，不允许写入。当W=1时，允许写入。 
	A访问位：当A=0时，该段尚未被访问。当A=1时，该段已被访问
	当代码段时
	E可执行位：当E=1时，是代码段。 
	C一致性位：C=0，表示非一致性代码段，忽视段描述符的特权值。C=1，表示一致性代码段，需要进行特权级检查。 
	R可读位：当R=0时，不允许读。当R=1时，允许读。 
	A访问位：当A=0时，该段尚未被访问；当A=1时，该段已被访问 

1.段选择符 * 8 + GDTR基址 = 段描述符地址 
2.段描述符内容（包括基址）→ 相应段cache 
3.cache中段基址 + 虚地址偏移量 = 物理地址

如果LDTR中装入了段选择符，处理器自动地将相应的LDT描述 符从全局描述符表GDT中读出来，并装入LDTR中的cache部分, 其中包括LDT基址，从而为当前任务创建一个LDT

4KB两级页表
页目录索引十位，页表索引十位，偏移地址12位

4MB一级页表
页目录索引1十位，页内偏移22位

## 输入输出

### 接口

接口：在微型计算机系统中，CPU与外部设备之间的联系，需要有特定的硬件连接和相应的控制软件。
接口技术：完成这一任务的软、硬件的综合称为。对这种硬 件、软件的设计。
接口（Interface）和端口（Port）是不同的。
端口：接口电路中那些完成信息传送，可由程序寻址并进行读写操作的寄存器。 

接口的组成
地址译码选择逻辑、数据输出寄存器、数据数入寄存器、状态寄存器、控制寄存器，连接线

1．存储器映像方式  把一个I/O端口看作是一个存储单元，相当于给每一个I/O端口分配一个 存储器地址。

2．I/O映像方式 • 在这种寻址方式中，I/O端口空间与存储器空间各自独立，互不干涉，互 不影响，故亦称为独立的I/O寻址方式。 

输入输出控制方式
程序查询、程序中断、DMA、I/O处理机

### DMA

DMA操作的基本方法

1. CPU停机、中断CPU任务以获取总线
2. 周期扩展、仅将CPU周期加长
3. 周期挪用、利用CPU不用总线的周期

DMA控制器

1. 给CPU发出请求
2. CPU回应，DMA获得总线控制权
3. 修改地址总线
4. 给存储器或接口发读写信号
5. 统计传送字节数，判断DMA是否结束
6. 给CPU发出DMA结束信号，还回总线控制权

### 8237

在一片8237A内有4个独立的DMA通道。
每个通道的DMA请求可分别编程允许或禁止。
每个通道的DMA请求优先级有两种：固定优先级和循环优先级。固定优先级的顺序是通道0最高，通道3最低。
可在外设与存储器，存储器与存储器之间传送数据。
四种**工作方式**：单字节传送方式，数据块传送方式，请求传送方式，级连方式。
可以多片级连，扩展通道数。
DMA操作**结束**有两种方法：一是字节计数器减1由0变为 FFFFH，二是外界通过输入负脉冲，强制DMA操作结束。
DMA操作**启动**有两种方法：一是外设输入DMA请求信号 DREQ，二是通过软件编程从内部启动。 
3种传送类型，DMA读、DMA写、DMA检验

## 中断

$$
中断分类\left\{\begin{array}.中断\left\{\begin{array}.外部中断:INTR,NMI\\内部中断:INT \quad a\end{array}\right.\\异常，缺段除零等\end{array}\right.
$$

### 中断接口电路

中断请求触发器保持请求状态，读操作清楚请求

软件查询优先级，中断信号求和输入CPU，优先级有三态缓冲器完成

硬件优先级排队电路，中断信号求和输入CPU，优先级有菊花链逻辑电路完成

单重中断

CPU响应中断的条件
	1）一条指令执行结束后。
	2）有中断请求。
	3）开中断。

中断处理（硬件完成）
	关中断→保护现场（如标志）→ 保护断点→形成中断服 务程序入口地址→转入中断服务程序。

中断服务程序（软件完成）
	保护现场→中断处理→恢复现场→开中断→返回断点 

多重中断

CPU响应中断的条件 • 与单重中断相同。

中断处理 • 与单重中断相同。

中断服务程序
	保护现场→保护原中断屏蔽字→送新中断屏蔽字→开中断→ 中断处理→关中断→恢复原屏蔽字→恢复现场→开中断→返回断点 

中断向量：中断服务程 序的入口地址。
中断向量表：存放中断 服务程序入口地址的表格

可屏蔽中断INTR，当IF为1时，且INTR为高电平时响应此类中断

非屏蔽中断NMI，上升沿有效，不受IF影响，中断类型码为2

软件中断包括INTO（溢出）、INT3（断点）、INT n、BOUND （界限比较）指令。 

实模式处理中断

1. 有中断异常以及单步调试，若是可屏蔽中断需读中断类型码
2. 标志寄存器入栈，清楚IF，TF形成中断服务程序地址并送至CS和IP
3. 若仍有NMI则及时回应NMI或此次为处理单步中断则再次执行2，防止单步运行中断服务
4. 运行中断服务程序并返回

### 8259A

主要功能 

​	每片管理8个中断源，最多级联64个中断源
​	可单独屏蔽中断
​	提供中断类型码
​	多种工作方式
​	可直接连接8086奔腾

内部结构

​	中断服务寄存器ISR 保存当前被CPU服务的中断级
​	优先级分辨器PR 确定中断请求寄存器IRR中个位的优先等级 
​	中断向量保护寄存器IMR
​	中断请求寄存器IRR 寄存所有IR的中断请求信号，接受后锁存
​	控制逻辑 请求时发一个INT=1,CPU响应送8259A两个INTA负脉冲
​		第一个负脉冲到达时 是ISR对应位赋值1，IRR对应位清零（提供服务）
​		第二个负脉冲到达时 ICW2作为中断类型码从D7-D0发给CPU，如果ICW4的中断自动结束位为1，第二个脉冲结束时对应ISR清零
​	读写逻辑由RE WR A0 CS控制
​	SP/EN 级联模式下用作分辨主从片，缓冲模式下控制输入输出
​	OCW1-OWC3 存放操作命令字，由应用程序设置用于动态控制，可多次设置，OCW1：8位中断屏蔽寄存器IMR，为1屏蔽对应设备
​	ICW1-ICW4 存放初始化命令字，有初始化程序设置，不可更改，12必设，34由工作方式决定



初始化流程
	写ICW1确定基本工作方式，写ICW2确定中断类型码，若是级联则写ICW3，若需要ICW4则写ICW4	

初始化ICW1

​	确定级联方式与触发方式以及是否需要ICW4

初始化ICW2

​	高五位由程序设置，低三位表明请求设备的编号

初始化ICW3

​	主片ICW3, 如果一个引脚上连着从片则对应位为1
​	从片ICW3, 表明连接的主片的引脚为IRx

初始化ICW4

​	选择工作方式，CPU类型，中断结束方式，主从片

## 接口芯片

### 8255A

8255A的组成

数据总线缓冲器：缓冲输入输出数据
读写控制逻辑 RD WR A1 A0 CS RESET
三个端口每个八位分两组管理 端口A与端口C高四位在A组，端口B和端口C第四位在B组

控制字

方式选择控制字 
D7=1 特征
D6-D5 代表三种A组方式
D4 A口I/O 0=输出 1=输入
D3 C口高四位I/O
D2 B组方式选择 两种方式
D1 B口I/O
D0 C口第四位I/O

C口置位复位控制字
D7=0 特征
D3-D1位选择
D0 置位/复位选择 0=复位 1=置位

方法0 基本的输入输出 	ABC 四个口独立的输入输出
方法1 选通的输入输出	AB	AB负责输入输出 C口两部分作为A口B口的联络信号
方法2 双向选通的输入输出	A A口负责输入输出，C口的五位作为联络信号

方法1输入的逻辑功能 
STB 输入的选通信号，当外设将数据送入AB中是该线为低电平
IBF输入缓冲期满信号，当数据进入缓冲器后发给外部设备用于通知
INTE 中断允许信号 A-PC4 B-PC2 对应置1时才允许发送中断请求
INTR 中断请求信号 高电平有效当CPU执行IN时 复位INTR IBF外部设备进行下一次输入

STB有效开始缓冲，缓冲完成IBF有效，请求中断INTR有效，获得RD信号后开始输入，撤销INTR，输入完成后撤销IBF信号

方法1输出的逻辑功能
OBF 输出缓冲期满信号，低电平有效，通知外设取走设备
ACK 低电平有效，表示数据已被外设取走
INTE 中断允许信号 A-PC6 B-PC2
INTR 高电平有效 请求CPU进行下次输出

WR有效请求输出，同时请求中断，WR完成后输出缓存器满,OBF有效。外设响应后外设获取信息撤销INTR与OBF

方法2的逻辑功能结构
INTE2 输入相关的中断允许 PC4控制
INTE1 输出相关的中断允许 PC6控制
STB\IVF\ACK\OBF\INTRA与方法一基本相同

### 8253

基本功能
3个16位计数器，能分别计数
每个计数器含6中工作方式
能进行2进制10进制计数
计数频率为0~2MHZ
可作为计数器或定时器

结构
控制寄存器、计数初值寄存器、减一计数器、输出锁存器
8位数据总线、RD WR A1 A0 CS
CLK GATE OUT

控制字
D7-D6 计数器选择
D5-D4 读写格式 00锁存 01只读写低8位，高八位清零 10只读写高八位，低八位清零 11先读写低八位后读写高八位
D3-D1 工作方式选择共六种方式
D0 计数方式 0二进制计数 1BCD码计数

0 计数结束中断方式 N+1周期后跳变，软 一次有效 
1 可编程单稳方式 先跳变N周期后再跳变 硬 多次有效 
2 脉冲频率发生器方式 先跳变一个时钟周期后再跳变，N-1周期后再跳变 软、硬 重复有效 
3 方波发生器方式 每N/2周期跳变一次 软、硬 重复有效 
4 软件触发选通方式 N+1周期后连续跳变两次 软 一次有效 
5 硬件触发选通方式 N周期后连续跳变两次 硬 多次有效 

## 串行通信

串行通信的方向
单工方式 单线单向
半双工方式 单线双向
全双控方式 双线双向

同步通信 空闲位稳定
异步通信 空闲位不稳定

## 8251A

同步方式下 0~64K波特
异步方式下 0~19.2K波特
可用5、6、7、8位来表示字符
异步模式下有停止位
全双工双缓冲

结构
数据总线缓冲器：命令寄存器 状态寄存器 方式寄存器 两个同步字符寄存器 数据输入缓冲器 数据输出缓冲器 
读写控制逻辑
调节控制
发送缓冲器与控制
	TXD 发送数据线
	TXEMPTY 发送移位器空
	TXRDY 发送器准备好
	TXC 发送时钟
接受缓冲器与控制