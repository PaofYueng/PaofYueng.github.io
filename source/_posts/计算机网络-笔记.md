---
title: '计算机网络-笔记'
date: 2021-01-08 17:08:56
tags:
- 课程笔记
mathjax: true
---

# 计算机网络-笔记

## 前言

> 我要放假了！！！！！，本文不全

<!-- more -->		

## 概论

计算机网络：计算机技术和通信技术相结合的产物；多个独立自治、相互连接的计算机集合。

计算机网络的演变
	①具有通信功能的联机系统：终端-线路-计算机
	②具有通信功能的分时系统：终端-集中器-计算机
	③计算机网络：独立的计算机互连
	④国际标准化网络：开放式标准计算机网络

网络是指“三网”，即电信网络、有线电视网络和计算机网络。

资源子网—负责信息处理，向网络用户提供各种网络资源与服务。如：计算机系统、外设、软件资源等
通信子网—负责信息传递，完成数据传输及转发。如：节点转发设备、通信设备等

### 拓扑结构

网状拓扑
	优点：避免拥塞，健壮安全易管理
	缺点：贵

星状拓扑
	优点：简单，健壮，易管理
	缺点：有中心，中央控制器是网络的瓶颈

树状拓扑
	优点：扩展了网络距离，实现了计算机通信的隔离

总线型拓扑
	优点：不存在路由，易于安装
	缺点：总线长度有限，故障难以隔离

环状拓扑
	优点：易于安装管理方便
	缺点：传输延迟

### 计算机网络体系结构

为什么要分层？
建立通信需要完成不少步骤，为了完成这些步骤需要分层，每一层完成不同功能。

1. 发起通信的计算机必须将**数据通信**的通路进行**激活**。
2. 要告诉网络如何**识别**接收数据的**计算机**。
3. 发起通信的计算机必须**查明**对方计算机是否已**开机**，并且与网络**连接正常**。
4. 发起通信的计算机中的应用程序必须弄清楚，在对方计算机中的对应的程序是否已经**做好**接收和存储文件的**准备**工作。
5. 如果计算机的文件格式不兼容，则至少其中的一个计算机应完成**格式转换**功能。
6. 对出现的各种**差错**和意外事故，应有**可靠的措施**保证对方计算机最终能够收到正确的文件。

网络协议：通信双方必须遵守的**规则、标准、约定**。
网络协议三要素：
	语法--数据与控制信息的**结构或格式**。如:数据的格式、电平等。
	语义--控制信息的**功能及动作**。
	时序--信息的**同步**,速度匹配。

体系结构：
	计算机网络的各个**层次**及其**协议**的**集合**称为体系结构。
	网络体系**结构是抽象**的，是对功能的精确描述。
	其功能的**实现是具体**的，是真正运行的硬件和软件。

网络协议分层的优点:独立、灵活、模块化、易于维护、标准化

网络协议分层的主要原则:
	不同等级的抽象建立一层
	功能相近的分在一层
	每层的功能明确
	边界信息要尽量少
	层次数量应适当

分层的目标：标准、对称、易于实现

![OSI](C:\Users\59167\PaofBlog\source\images\image-20210108175320121.png)

物理层

计算机网络的物理实现，规定了机械的、电气的、功能的、规程的4个特性，负责如何将计算机连接到通信媒体上。数据传输的单位是比特。

机械特性：定义连接头、机械尺寸、通信媒体等。
电气特性：信号电平,编码,数据传输率.
功能特性：信号之间的关系,数据线,控制线等。
规程特性：数据交换的控制步骤。

数据链路层

功能：
	帧同步:传输的信息单位是帧(Frame)。
	差错控制:为上层提供可靠链路。
	流量控制:处理输入数据的速率。
	链路管理:链路的建立,维持,拆除。

数据链路层处理相邻节点的数据传输,传输的数据单元是Frame(帧)。

网络层

任务：交换、路由、拥塞控制、网际互连

网络层处理任意节点的数据传输

传输的信息单位是分组(Packet)

传输层

功能：
	端到端的通信,把数据可靠的从一端用户进程送到另一端用户进程。
	端到端的流量控制
	端到端的差错控制

传输的信息单元是报文(Message)

会话层

两个计算机上的用户进程建立连接，双方互相确认身份，协商会话连接的细节。

表示层

解决用户信息的语法问题,对用户数据进行翻译、编码和变换

应用层

处理用户的数据和信息，完成用户所希望的实际任务。

| 层级 | 层名       | 功能                                 | 语义               |
| ---- | ---------- | ------------------------------------ | ------------------ |
| 7    | 应用层     | 触及到应用程序的网络业务             | 做什么             |
| 6    | 表示层     | 数据表达                             | 对方看起来像什么   |
| 5    | 会话层     | 主机间通信                           | 该谁讲话，从哪讲起 |
| 4    | 传输层     | 端到端的连接可靠性                   | 对方在哪           |
| 3    | 网络层     | 地址和最佳路径                       | 走那条路可以到达   |
| 2    | 数据链路层 | 访问介质                             | 每一步该怎么走     |
| 1    | 物理层     | 二进制传输(导线、连接器、电压速率等) | 怎样利用物理媒体   |



层间通信:同一节点上相邻层次的通信。
对等层间通信：不同的网络节点上对等层间的通信。
实通信：层间通信和物理层之间的通信
虚通信：除物理层之外，对等层间的通信。

面向连接的服务：建立连接-数据交换-释放连接
无连接的服务：数据报，证实交付，请求/响应

### 速率与时延

排队时延：在发送队列中的等待时间
处理时延：主机或中间节点接收处理数据的时间
发送时延：从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间 $发送时延=\frac{数据块长度}{信道带宽}$
传输时延：电磁波在信道中需要传播一定的距离而花费的时间。 $传输时延=\frac{信道长度}{传播速率}$

总时延 =处理时延+排队时延+发送时延+传播时延

时延带宽积=传播时延 x 带宽  链路长度的度量

往返时间（RTT） ：发送数据开始—收到对方的确认

## 数据通信基础

数据通信系统的组成：信源-发送设备-传输系统-接受设备-信宿

1．码元速率 B：每秒传送的码元数，单位是“波特”（Baud）
2．数据传输率C：每秒传送的信息量，单位是“比特/秒”
3．误码率：错误接收的报文码元数在总码元数中占的比例
4．误比特率：指误接收的比特数在总比特数中占的比例

码元：在数字通信中,一个数字脉冲称为一个码元。码元携带的信息量由码元的离散值个数决定。
码元速率：单位时间内信号波形的变换次数。单位是波特(Baud) ,码元宽度为T秒，则码元速率为：B=1/T

奈氏定理：给出了有限带宽无噪声信道(理论状态)的最大码元速率与信道带宽的关系：
$$
B = 2×W (Baud）\\B 是码元速率，单位是Baud ；
         W是理想低通信道的带宽，单位Hz；
$$

$$
R = 2×W ×log_2N\\     \ \ \ \ \ \ \ = B×log_2N （bps）\\R表示数据速率，单位为bps ；
        N为一个脉冲信号所表示的有效状态个数
$$

实际的信道总是要受到噪声的干扰
香农（Shannon）定理描述了有限带宽有随机热噪声信道的最大数据传输率(信道容量）Rmax与信道带宽W和信号噪声功率比S/N之间的关系。
$$
Rmax =W×log2 (1＋S/N) （bps）\\  其中： Rmax是信道容量;
         S是平均信号功率;
         N是平均噪声功率;
         S/N是信噪比\\
分贝数=10×log10(S/N)  (dB)
$$
数据在信道中的传输速率受到哪些因素的影响？
信道的带宽和信道信噪比，

信噪比能否任意提高？
信噪比不能任意的提高，因为噪声存在于所有的电子设备和通信信道中

### 数字编码

单极性编码：正电压1，零电压0
缺点：存在直流分量，适用介质少，不易同步

极化编码

1. 非归零编码(NRZ)

   非归零电平编码(NRZ-L)：正电平1，负电平0

   非归零反相编码(NRZ-I)：电平反向为1，不变为0

   NRZ-I使用4B/5B编码，利用编码不会产生连续三个0，从而保证同步不被破坏

2. 归零编码(RZ)

   正电平到零为1，负电平到零为0，每个bit都会跳变保证同步

3. 双相位编码

   曼彻斯特编码

   ​	一个负电平到正电平的跳变代表比特1，一个正电平到负电平的跳变代表比特0

   差分曼彻斯特编码 

   ​	每个比特间隙的开始位置有跳变代表比特0，没有跳变则代表比特1。

4. 双极性编码

   使用3个电平值：正、负和零
   电平0代表比特0，正负电平交替代表比特1

### 数模

四种常用调制方法：

1. 幅移键控(ASK—Amplitude Shift Key)

   用载波的不同幅度代替数字1，0

2. 频移键控(FSK—Frequency Shift Key)

   用载波的不同频率表示1和0

3. 相移键控(PSK—Phase Shift Key)

   调制载波的相位：不同的相位表示1和0。

4. 正交调幅(QAM—Quadrature Amplitude Modulation)

   ASK和PSK结合起来的编码方法

什么是线路配置？有哪几种线路配置？什么是传输方式？有哪几种传输方式？
	有两种线路配置方式：  点到点连接和多点连接
	传输模式包括以下两种：单工、半双工和全双工通信

串行传输的两种模式：同步传输，异步传输

同步通信中的同步机制分哪两级来实施？
	位同步：附加同步线路或内同步编码
	帧同步：增加帧起始和结束标志

### 多路复用技术

多路复用技术是利用一条链路同时传输多路信号的技术

1. 频分多路复用技术(FDM)

   通过分割带宽来实现，适用于模拟信号。

2. 时分多路复用技术(TDM)

   通过分割时间片来划分信道，每个时间片由一个复用信号占用。适用于数字信号。

   同步时分多路复用
   异步时分多路复用

3. 波分多路复用技术(WDM)

   利用多个激光器在单条光纤上同时发送多束不同波长激光的技术。

4. 码分多路复用技术(CDM)

   码分多路复用是根据码型结构的不同来实现信号分割的多路复用。

   码片序列：每个站点分配一个m位码
   例：站点A (0 0 0 1 1 0 1 1)
   发送比特1，站点就发送其码片序列
   发送比特0，站点就发送其码片序列的反码

   存在正交性

为什么使用多路复用技术?
	(利用一条链路同时传输多路信号的技术)

常用的多路复用技术有哪些?什么是FDM？什么是TDM？

同步时分多路复用和异步多路复用有什么区别？
	(同步是指复用器在一段时间内为每个设备分配完全一样的时间片，不管该设备有没有数据要传输。异步时分多路复用也称为统计复用。在异步时分多路复用系统中，如果有N个输入设备，一帧至多有M个时间片，其中M小于N。)

### 数据交换技术

传统的交换方式有三种：

   1. 电路交换(Circuit Switch)

      通信开始之前，要在两个通信设备之间建立起一条完全被通信双方所占用的物理通路。（实电路）

      电路建立-数据传输-电路拆除

   2. 分组交换(Packet Switch)

      较长的报文被分为较短的数据单元，然后每个数据单元被加上一些通信控制信息等内容，形成一个信息包(packet)。

   3. 报文交换（Message Switch)

      又称为存储转发或消息交换。是在报文的传输过程中，由网络的中间节点将报文暂时存储起来，检查它的正确性和完整性，然后再发往下一个节点。

      缺点：在报文交换中，整个报文是作为一个整体来处理，由于报文较长，报文传输的延迟很大。被淘汰

分组交换与电路交换的比较 
	共享传输链路，提高使用效率
	信息可在中途存储，不要求接收端做好准备
	有流量和拥塞控制，不会发生阻塞
	可工作于广播和多播的方式
	具有提供多种通信设备互连的灵活性

分组交换两种类型：数据包和虚电路

1. 数据报

   每个包独立，可能不是按次序到达

2. 虚电路

   传输前选好路径，保持每个包的次序，非独占。压缩目标地址，节约开销

### 错误检测和控制

CRC循环校验码
$$
U(x)<<|G(x)|+U(x)\%G(x)
$$

## 物理层

物理层的主要功能是为数据端设备提供传送数据的通路，数据通路可以是一个物理媒体，也可以是多个物理媒体连接而成

定义了物理连接的**机械特性、电气特性、功能特性和规程特性**，包括把两个结点连接在网络上的电缆、物理接口以及信号等

机械特性：说明**接口**的插头尺寸、插头各管脚的位置等。
电气特性：说明传输线上出现的**电压**应在什么范围
功能特性：说明某根传输线上出现的**某一电平代表何种意义**
规程特性：说明对于不同的功能各种可能事件出现的**先后顺序**

直通线就是两端相同
交叉线就是一端使用T568A，另一端使用T568B的连接方法

UTP与STP，STP多了金属薄膜屏蔽噪音

中继器作用于信号的电气部分，不放大信号，而是重新生成信号，可以扩展局域网所覆盖的地理范围
更多流量，降低性能
更多站点，不安全

## 数据链路层

数据链路层处理相邻节点的数据传输

数据链路层的主要工作：
	线路规程：解决了“现在谁该发送”的问题。
	差错控制：通常采用“校验-确认-重发”的模式来纠正错误。
	流量控制：防止因发送端的发送速度超过接收端的处理速速造成数据丢失和信道拥挤，调整某段时间内可发送的数据量。
	链路管理：数据链路的建立、维持和释放。链路是一个节点到相邻节点的物理线路；数据链路=链路+规程（协议）的硬件和软件。

数据链路层传输的数据单元是帧(Frame) 

### 询问/应答模式